@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@model JobQuest.Web.Models.JobPost

@{
    var successMessage = TempData["SuccessMessage"] as string;
}

<h1>Post a Job</h1>

<form method="post">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

    <div class="mt-3">
        <label class="form-label">Title</label>
        <input type="text" name="Title" class="form-control" asp-for="Title" required/>
    </div>

    <div class="mt-3">
        <label class="form-label">Company Name</label>
        <input type="text" name="CompanyName" class="form-control" asp-for="CompanyName" required />
    </div>

    <div class="mt-3">
        <label class="form-label">Description</label>
        <input type="text" name="Description" class="form-control" asp-for="Description" required />
    </div>

    <div class="mt-3">
        <label class="form-label">Job Type</label>
        <select class="form-control" name="JobType" asp-for="JobType">
            <option value="FullTime">Full Time</option>
            <option value="PartTime">Part Time</option>
            <option value="Freelancer">Freelancer</option>
        </select>
    </div>

    <div class="mt-3">
        <label class="form-label">Location</label>
        <input type="text" name="Location" class="form-control" asp-for="Location" required/>
    </div>

    <div class="mt-3">
        <label class="form-label">Salary Type</label>
        <div class="form-check">
            <input type="radio" class="form-check-input" id="salaryTypeAnnually" name="SalaryType" value="/Annual" required />
            <label class="form-check-label" for="salaryTypeAnnually">Annually</label>
        </div>
        <div class="form-check">
            <input type="radio" class="form-check-input" id="salaryTypeHourly" name="SalaryType" value="/Hour" required />
            <label class="form-check-label" for="salaryTypeHourly">Hourly</label>
        </div>
    </div>

    <div class="mt-3">
        <label class="form-label">Salary</label>
        <input type="number" name="Salary" class="form-control" asp-for="Salary" required/>
        <span asp-validation-for="Salary" class="text-danger"></span>
    </div>

    <div class="mt-3">
        <button type="submit" class="btn btn-primary">Post</button>
    </div>
</form>

@section Scripts {
    <script>
        $(document).ready(function () {
            var successMessage = '@successMessage';
            if (successMessage) {
                alert(successMessage);
                setTimeout(function () {
                    window.location.href = '@Url.Action("ViewPostedJobs", "JobPost")';
                });
            }
        });
    </script>
}